# Go-Cloud-Camp-internship

Алгоритм запуска сервиса:

БД:
    Запускается из директории redis при помощи docker-compose up

Тестовые сервера:
    Запускаются из директории test_backend при помощи go run main -port=желаемый_порт -sleep=желаемая_задержка_обработкиs

Основной сервис:
    Запускается из директории load_balancer/cmd при помощи go run main.go
    Для его конфигурации есть yaml файл в директории load_balancer/config

Тесты:
    Запускаются из директории tests при помощи go test -bench=. -race -args -addr=адрес_основного_сервиса(http://localhost:8080) -clients=кол-во_клиентов -duration=длительность_тестаs

Логи сохраняются в директории load_balancer/logs
Присутствует поддержка "graceful stop"
Есть возможность настройки макс кол-ва токенов и скорости их пополнения для конкретных пользователей, для этого нужно отправить POST запрос на адрес_сервиса/set_rate(max), где в query параметрах будет указан ip пользователя в зашифрованном виде и желаемое значение соответствующего параметра
Все ошибки и ответы сервера типизированны

Запуск при помощи общего dockerfile и docker-compose из директории build не работает